# 简述脏读和幻读的发生场景，InnoDB 是如何解决幻读的？

## 脏读

在读未提交隔离级别下存在。

例子：事务A未提交时，事务B就读到了事务A修改的数据。

## 不可重复读

在读提交隔离级别下存在。

事务B一直在关注某条数据，事务A去修改这条数据，修改后立即提交，但是在修改期间，事务B一直未提交，多次查询该条数据发现结果不一样。

## 幻读

在可重复读隔离级别下存在。

例子：事务B先按条件查询出某些数据的数量，此时事务A插入符合事务B查询条件的数据并提交，事务B再次按原来条件查询，发现新数据的数量与之前不一样了。



## 不可重复读和幻读的区别

幻读是针对insert操作

不可重复读是针对delete和update操作

## InnoDB是如何解决幻读的

在可重复读隔离级别下，InnoDB使用MVCC和Next-key lock解决幻读，MVCC解决的是快照读(普通读)的幻读，next-key lock解决的是当前读的幻读。

