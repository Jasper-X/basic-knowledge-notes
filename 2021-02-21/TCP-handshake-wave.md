# 简述 TCP 三次握手以及四次挥手的流程。为什么需要三次握手以及四次挥手？

## 三次握手

![cid_4D6A528F-9FFC-6843-9253-286D38464260](http://image.skyjerry.com/uPic/cid_4D6A528F-9FFC-6843-9253-286D38464260.png)

### 为什么三次握手？

让双方都可以明确自己和对方的收发能力正常。

第一次握手：客户端发出，服务端收到，服务端可以知道客户端的发，服务端的收正常。

第二次握手：服务端回复，客户端收到，客户端可以知道服务端的收发正常，客户端的收发正常。

第三次握手：客户端回复，服务端收到，服务端可以知道客户端的收正常(不然不会回复自己)，服务端的发正常。

## 四次挥手

![cid_DD32F326-0169-074A-8720-10A1557BF6F3](http://image.skyjerry.com/uPic/cid_DD32F326-0169-074A-8720-10A1557BF6F3.png)



### 为什么四次挥手？

A发送FIN数据包后，B立即回复ACK，此时B还可能有未完成发送的消息，只能先回复一个ACK，此时B还可以继续发送数据，直到B也准备好关闭连接，会再次发送FIN给A，最后完成关闭。