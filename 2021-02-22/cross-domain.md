# 什么是跨域，什么情况下会发生跨域请求？



### 

### 什么是跨域？

跨域通常被理解为突破浏览器的**同源策略**。

同源策略是浏览器非常重要的隐私安全保护措施。对于<协议，域名，端口>不完全一致的站点，数据层面和网络层面都有附加的安全限制：

- 数据层面：限制不同源的站点读取当前站点的 Cookie、IndexDB、LocalStorage 等数据
- 网络层面：限制通过 XMLHttpRequest 等方式将站点的数据发送给不同源的站点



### 什么情况下会发生跨域请求？

域的概念：<协议，域名，端口>

当前发起 XMLHttpRequest的域和该请求指向资源所在的域不同时，会受到浏览器的同源策略限制。



### 如何解决跨域问题？

- JSONP
  - 本质上利用<script><img><iframe>等标签不受同源策略限制，可以从不同域加载并执行资源的特性，来实现数据跨域传输
  - 兼容性好，如果要兼容很古老的浏览器，JSONP是个不错的选择，缺点是只支持GET请求
- CORS
  - 本质上利用HTTP Response的Header信息来告知浏览器允许跨域请求的配置，此方案可以“光明正大”的突破浏览器的同源策略限制
  - W3C标准，属于官方的跨域解决方案，如果是运行在现代浏览器的站点，CORS是更好的选择

